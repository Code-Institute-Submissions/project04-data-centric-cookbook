{% extends 'base.html' %}

{% block template_content %}
<!-- PAGE CONTENT-->
<div class="container-fluid">
    <!-- PAGE HEADER -->
    <section>
        <div class="container-fluid">
            <div class="row">
                <div class="col-12">
                    <h1>Recipes</h1>
                    <h3 class="section-subheading text-muted">Search and filter recipes</h3>
                </div>
            </div>
        </div>
    </section>
</div>
<div class="container-fluid">
    <div class="row">
        <!-- LEFT COLUMN -->
        <div class="col-4" style="background-color:rgb(229, 255, 0)">
            Filtering
            <div class="row">
                <div class="col-12">
                    <label for="selectCategory">Category</label>

                    <form id="categoryFilter" name="categoryFilter" method="POST">
                        <select class="custom-select" id="category-select">
                            <option>Select a Category</option>
                            {% for category in categories %}
                            <option value="{{category.category_name}}"> {{category.category_name}}</option>
                            {% endfor %}
                        </select>
                        <button type="submit" class="btn btn-primary"></button>
                        <!-- {#<a href="{{ url_for('filter_by_category', category=category.category_name) }}" type="submit" class="btn btn-primary">get cat</a> #}-->

                    </form>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <div id="sc">on change</div>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <label for="selectCuisine">Cuisine</label>
                    <select class="custom-select" id="cuisine" name="cuisine">
                        <option>Select a Cuisine</option>
                        {% for cuis in cuisine%}
                        <option value="{{ cuis.cuisine_name }}">{{ cuis.cuisine_name }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    {% for allergen in allergens %}
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" id="allergen" name="allergen" value="{{ allergen.allergen_name }}">
                        <label class="form-check-label" for="inline{{ allergen.allergen_name }}">{{allergen.allergen_name}}</label>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
        <!-- RIGHT COLUMN -->
        <!-- FILTERING RESULTS -->
        <div class="col-8">
            <div class="row">
                <div class="col-12" id="thisisacol">
                    <div id="recipeResult"></div>
                    <div id="two" ></div>
                    <div class="recipe-name"></div>
                </div>
            </div>
            <div class="row" id="one" style="background-color:red">
            </div>
            <!-- INITIAL RANDON SELECTION OF RECIPES BEFORE FILTERING HIDDEN AFTER USER FILTERING -->
            <div class="row" id="initialRecipes" style="background-color:#fff">
                <div class="col-12">
                    {% for recipe_row in recipes | batch(3) %}
                    <div class="card-deck">
                        {% for recipe in recipe_row %}
                        <div class="card">
                            {% if recipe.image_url != "" %}
                            <img class="card-img-top" src="{{recipe.image_url}}" alt="{{recipe.name}}" title="{{recipe.name}}">
                            {% else %}
                            <img class="card-img-top" src="{{ url_for('static', filename='img/recipes/default_food.png')}}"
                                alt="Default image of food" title="Default image of food">
                            {% endif %}
                            <div class="card-body">
                                <h5 class="card-title">{{ recipe.name }}</h5>
                                <p class="card-text">This is a longer card with supporting text below as a natural
                                    lead-in to additional content. This content is a little bit longer.</p>
                                <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</div>
</div>





{% endblock %}


<!-- Debug area. Hidden if debug set to False -->
{% block content_debug %}

{% endblock %}